# 要件定義書

## 1. システム概要

### 1.1 システム名
ShiftMan

### 1.2 システムの目的
本システムは、飲食店のスタッフのシフト管理を効率化し、労働時間や勤務日を適切に管理できるデスクトップアプリケーションを提供することを目的とする。

### 1.3 背景
- 現在はExcelを用いて手動管理しており、シフト変更の修正や共有が困難。
- 急な欠員発生時に代替スタッフを見つけるのが難しい。
- スタッフの労働時間が長時間になりがちで、法令遵守の観点からも管理が必要。

---

## 2. システム要件

### 2.1 機能要件

#### (1) 管理者向けアプリケーション
- **管理者ログイン機能**  
  - 管理者は適切な権限を持ち、認証を通じてログインする。
- **管理者ダッシュボード機能**  
  - シフト状況、労働時間、法令遵守の状態を可視化。
- **シフト作成機能**  
  - スタッフの希望を考慮し、適切なシフトを割り当てる。
- **勤務状況確認機能**  
  - 月単位で勤務状況や労働時間を確認し、適切な管理を行う。
- **通知機能**  
  - シフト変更や承認状況を管理者に通知する。
- **労働時間管理機能（法令遵守チェック）**  
  - 1日の労働時間が8時間、1週間の労働時間が40時間を超えないよう管理。
  - 休憩時間（6時間以上で45分、8時間以上で1時間）を適切に設定。

#### (2) スタッフ向けアプリケーション（実装対象外、要件に含む）
- **シフト登録・確認機能**  
  - スタッフがPCやスマホからシフトを登録・承認状況を確認できる。
- **シフト変更リクエスト機能**  
  - スタッフがシフト変更を申請し、承認を受ける。
- **勤務記録確認機能**  
  - 自身の勤務履歴や休暇申請状況を確認できる。

---

### 2.2 非機能要件
#### 可用性
  - アプリケーションは起動時常時利用可能であること
  - データベースサーバーはメンテナンス時間内を除いて利用可能であること
  - アプリケーションは安定して動作すること
  - 適切なエラーハンドリングを実装し、アプリが異常終了しないこと
#### 性能・拡張性
  - ユーザー数やシフトデータが増加しても処理速度が遅くならないこと
  - 拡張や修正が容易に行えるような設計・コードにすること
#### 運用・保守性
  - システムの設定やデータ管理を容易に行える管理画面を提供する。
  - シフトデータやユーザー情報は、管理者が簡単に追加・編集・削除できること。
  - ログ機能を実装し、エラー発生時に原因を特定しやすくする（例：アプリの動作ログ、データベースのエラーログ）。
  - 保守が容易に行えるような設計・コードにすること
#### 移行性
  - スクラッチ開発の為、定義しないものとする。
#### セキュリティ
  - ログイン機能により、認証ユーザー以外の個人情報へのアクセスを制限する。
  - 適切な権限管理を行い、不要なユーザーがデータベースに直接操作することをできないようにする。
  - 入力値のバリデーションを行い、SQLインジェクションやXSSなどの攻撃を防ぐ。
#### システム環境・エコロジー
  - 小規模システムのため、定義しないものとする。
---

## 3. データ要件

### 3.1 データベース設計
- 別途テーブル定義書に記載
---

## 4. 画面要件
- **ログイン画面**
  - ユーザー認証を行う。
- **ダッシュボード画面**
  - シフト状況、労働時間、アラート情報を表示。
- **シフト管理画面**
  - スタッフの希望を考慮したシフト割り当て。
- **通知設定画面**
  - シフト変更や法令遵守チェックの通知設定。

---

## 5. 提出物

| 項目 | 説明 |
|------|----------------|
| 要件定義書 | 本ドキュメント |
| テーブル定義書 | データベースの詳細なスキーマ |
| DFD | データフロー図 |
| ユースケース図 | システムの利用ケース |
| 画面遷移図 | 画面間の遷移を示した図 |

---

