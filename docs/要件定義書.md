# 要件定義書 

## 1. システム概要

### 1-1. 概要説明

本システムは、飲食店のスタッフの**シフト管理と勤怠記録の効率化**を目的としたデスクトップアプリケーションである。  
管理者がスタッフの希望シフトを確認し、適切なシフト割当や勤怠管理を行える機能を備える。

### 1-2. 目的

- **シフト作成の効率化**
- **スタッフの過労防止・法令遵守**
- **欠員時の迅速な対応**
- **管理者・スタッフの業務負担軽減**

### 1-3. 背景

現状はExcelで手動管理しており、以下の課題がある：

- シフト変更時の反映・共有が煩雑
- 急な欠員に対応しづらい
- 一部スタッフの働きすぎが発生
- 勤怠の集計や法令チェックが難しい

---

## 2. 想定利用者

- 管理者: シフトの管理業務や勤怠管理を行う担当者。本システムを利用
- スタッフ: スタッフ向けアプリケーションからシフトの登録や変更リクエスト、確認を行う利用者

---

## 3. 開発範囲

- **対象**：管理者向けwebアプリケーション（PCのみ）
- **非対象**：スタッフ向けアプリ（設計対象、実装不要）

---

## 4. 業務要件

| No. | 業務内容       | 説明                                       |
| --- | -------------- | ------------------------------------------ |
| 1   | スタッフ管理   | スタッフ情報の一覧表示・編集               |
| 2   | 希望シフト確認 | 提出された希望シフトの確認・承認           |
| 3   | シフト割当     | 各日ごとのスタッフ配置を割当               |
| 4   | 勤怠確認       | 月単位でスタッフの勤務状況（出退勤）を確認 |
| 5   | 法令チェック   | 労働時間・休憩時間が基準内かを自動チェック |
| 6   | レポート出力   | 勤務時間やシフト割当状況のレポート作成     |


---

## 5. システム化の範囲
### 5-1. システム化対象外業務
| 内容                   | 理由                          |
| ---------------------- | ----------------------------- |
| スタッフアプリの実装   | 開発範囲対象外                |
| 通知機能（プッシュ等） | 今回はアプリ内通知で実装      |
| 自動シフト最適化       | 今回は手動割当のみ対応        |
| 多店舗対応             | 今回の範囲では1店舗固定で運用 |

---

## 6. 機能要件

### 6-1. 必須機能要件

| No. | 機能名           | 説明                                     |
| --- | ---------------- | ---------------------------------------- |
| 1   | ログイン機能     | 管理者認証（パスワードハッシュ化）       |
| 2   | スタッフ一覧     | スタッフの登録・編集                     |
| 3   | 希望シフト確認   | 希望シフトの確認と承認状態の管理         |
| 4   | シフト作成・割当 | 管理画面でのシフトスケジュール作成(手動) |
| 5   | 勤怠確認         | 出退勤情報の表示（編集は行わない）       |

### 6-2. 希望機能要件

| No. | 機能名           | 説明                              |
| --- | ---------------- | --------------------------------- |
| 1   | 法令チェック     | 月/週単位の労働時間制限の自動判定 |
| 2   | 勤務時間レポート | スタッフ別の勤務時間合計を表示    |
| 3   | 休憩時間設定機能 | 法令に沿った休憩時間の設定機能    |
---

## 7. 非機能要件
### 7-1. 可用性
- 営業時間中はダウンタイム無く利用できるものとする
- DBサーバーはメンテナンス時間を除く(不定期)年中無休で稼働するものとする。

---

### 7-2. 拡張性
- 将来的な機能追加に容易に対応できる構造にする  
  （例：通知機能、スマホ連携、多店舗対応など）

---

### 7-3. 保守性
- MVCアーキテクチャを採用し、デバッグ、エラー特定などが行いやすい、保守性の高いコードにする。

---

### 7-4. 移行性
- スクラッチ開発のため、定義しないものとする
- 既存データからのインポートは定義範囲外

---

### 7-5. セキュリティ
- アカウントパスワードはハッシュ化して保存
- SpringSecurityで制御し、構文は作成時点で最新のものを使用する
- 適切なバリデーションにより、SQLインジェクション対策をする
- 
- Thymeleafのエスケープ処理により、XSS対策をする

## 8. データ要件

*別資料 テーブル定義書を参照* 

## 8. 制約条件

### 8-1. 技術的制約
| 区分     | 内容        |
| -------- | ----------- |
| OS       | Windows     |
| 実行形式 | jar         |
| DB       | MySQL       |
| 開発言語 | Java/Spring |

---

## 9. 提出物
すべてGithubリポジトリ上にアップロードする
| 項目                                       |     |
| ------------------------------------------ | --- |
| 要件定義書                                 |     |
| テーブル定義書                             |     |
| DFD                                        |     |
| ユースケース図                             |     |
| 画面遷移図                                 |     |
| アプリケーション仕様書                     |     |
| アプリケーション操作手順書                 |     |
| ソリューションフォルダ                     |     |
| データベース作成スクリプト、ダンプファイル |     |

---

## 10. 今後の拡張可能性（スコープ外提案）

- スマホアプリとの連携（シフト提出や打刻）
- シフト自動最適化（AIや条件ベース）
- 複数店舗への対応
- 労働基準法の改正対応（パラメータ化）

